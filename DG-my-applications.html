<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Îã®Í∞ê - ÎÇ¥ ÌôúÎèô</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        /* Header */
        .header {
            background: white;
            padding: 1rem 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .back-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #666;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: #f0f0f0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2d5a27;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .logo::before {
            content: "üçä";
            font-size: 2rem;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: #2d5a27;
            color: white;
        }

        .btn-primary:hover {
            background: #1e3d1a;
            transform: translateY(-2px);
        }

        .btn-outline {
            border: 2px solid #2d5a27;
            color: #2d5a27;
            background: transparent;
        }

        .btn-outline:hover {
            background: #2d5a27;
            color: white;
        }

        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Page Header */
        .page-header {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .page-title {
            font-size: 1.8rem;
            color: #2d5a27;
            margin-bottom: 0.5rem;
        }

        .page-subtitle {
            color: #666;
            margin-bottom: 1.5rem;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .stat-card {
            background: linear-gradient(135deg, #2d5a27, #4a7c59);
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .stat-card.pending {
            background: linear-gradient(135deg, #ffc107, #ffca2c);
            color: #333;
        }

        .stat-card.approved {
            background: linear-gradient(135deg, #28a745, #34ce57);
        }

        .stat-card.rejected {
            background: linear-gradient(135deg, #dc3545, #e4606d);
        }

        /* Tab Navigation */
        .tab-navigation {
            background: white;
            border-radius: 15px;
            padding: 1rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .tab-buttons {
            display: flex;
            gap: 0.5rem;
            overflow-x: auto;
        }

        .tab-btn {
            padding: 0.75rem 1.5rem;
            border: none;
            background: transparent;
            color: #666;
            border-radius: 8px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .tab-btn.active {
            background: #2d5a27;
            color: white;
        }

        .tab-btn:hover {
            background: #f0f0f0;
        }

        .tab-btn.active:hover {
            background: #1e3d1a;
        }

        /* Filter Bar */
        .filter-bar {
            background: white;
            border-radius: 15px;
            padding: 1rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-select {
            padding: 0.5rem 1rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: white;
            cursor: pointer;
        }

        .search-input {
            flex: 1;
            min-width: 200px;
            padding: 0.75rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
        }

        .search-input:focus {
            outline: none;
            border-color: #2d5a27;
        }

        /* Applications List */
        .applications-section {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }

        .results-count {
            color: #666;
            font-size: 0.9rem;
        }

        .sort-options {
            display: flex;
            gap: 0.5rem;
        }

        .sort-btn {
            padding: 0.4rem 0.8rem;
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
            border-radius: 5px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .sort-btn.active {
            background: #2d5a27;
            color: white;
            border-color: #2d5a27;
        }

        /* Application Items */
        .application-item {
            border: 1px solid #eee;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .application-item:hover {
            border-color: #2d5a27;
            box-shadow: 0 5px 15px rgba(45, 90, 39, 0.1);
            transform: translateY(-2px);
        }

        .application-item:last-child {
            margin-bottom: 0;
        }

        .application-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .work-info h3 {
            font-size: 1.2rem;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .work-meta {
            display: flex;
            gap: 1rem;
            align-items: center;
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.5rem;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .work-category {
            background: #e8f5e8;
            color: #2d5a27;
            padding: 0.3rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .application-status {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 0.5rem;
        }

        .status-badge {
            padding: 0.4rem 1rem;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 600;
            text-align: center;
            min-width: 80px;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .status-approved {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-rejected {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .status-completed {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .application-time {
            font-size: 0.8rem;
            color: #999;
        }

        .application-description {
            color: #555;
            line-height: 1.6;
            margin-bottom: 1rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .application-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid #f0f0f0;
        }

        .payment-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .payment-amount {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2d5a27;
        }

        .work-date {
            color: #666;
            font-size: 0.9rem;
        }

        .application-actions {
            display: flex;
            gap: 0.5rem;
        }

        /* Messages */
        .message-section {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #f0f0f0;
        }

        .message-item {
            background: #f8f9fa;
            border-left: 3px solid #2d5a27;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            border-radius: 0 8px 8px 0;
        }

        .message-from {
            font-weight: 600;
            color: #2d5a27;
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
        }

        .message-content {
            color: #555;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .message-time {
            font-size: 0.8rem;
            color: #999;
            margin-top: 0.3rem;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: #666;
        }

        .empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .empty-title {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .empty-description {
            margin-bottom: 2rem;
        }

        /* Notification Dot */
        .notification-dot {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 12px;
            height: 12px;
            background: #dc3545;
            border-radius: 50%;
            border: 2px solid white;
            animation: pulse 2s infinite;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .application-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .application-status {
                align-items: flex-start;
            }
            
            .work-meta {
                flex-wrap: wrap;
            }
            
            .filter-bar {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-input {
                min-width: unset;
            }
            
            .tab-buttons {
                justify-content: center;
            }
            
            .application-footer {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
        }

        .urgent-indicator {
            background: #dc3545;
            color: white;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .rating-section {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
        }

        .rating-stars {
            color: #ffc107;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .rating-comment {
            color: #555;
            font-style: italic;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-left">
            <button class="back-btn" onclick="goBack()">‚Üê</button>
            <a href="#" class="logo">Îã®Í∞ê</a>
        </div>
        <div class="header-actions">
            <a href="#" class="btn btn-outline">ÏùºÍ±∞Î¶¨ Ï∞æÍ∏∞</a>
            <a href="#" class="btn btn-primary">+ ÏûëÏóÖ Îì±Î°ù</a>
        </div>
    </header>

    <div class="container">
        <!-- Page Header with Stats -->
        <div class="page-header">
            <h1 class="page-title">ÎÇ¥ ÌôúÎèô</h1>
            <p class="page-subtitle">ÏßÄÏõêÌïú ÏûëÏóÖÍ≥º ÏöîÏ≤≠Ìïú ÏûëÏóÖÏùÑ ÌïúÎààÏóê Í¥ÄÎ¶¨ÌïòÏÑ∏Ïöî</p>
            
            <div class="stats-grid">
                <div class="stat-card pending">
                    <div class="stat-number">7</div>
                    <div class="stat-label">ÎåÄÍ∏∞Ï§ëÏù∏ ÏßÄÏõê</div>
                </div>
                <div class="stat-card approved">
                    <div class="stat-number">23</div>
                    <div class="stat-label">ÏäπÏù∏Îêú ÏûëÏóÖ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">156,000</div>
                    <div class="stat-label">Ïù¥Î≤à Îã¨ ÏàòÏûÖ (Ïõê)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">4.9</div>
                    <div class="stat-label">ÌèâÍ∑† ÌèâÏ†ê</div>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <div class="tab-buttons">
                <button class="tab-btn active" data-tab="applications">ÎÇ¥Í∞Ä ÏßÄÏõêÌïú ÏûëÏóÖ</button>
                <button class="tab-btn" data-tab="requests">ÎÇ¥Í∞Ä Îì±Î°ùÌïú ÏûëÏóÖ</button>
                <button class="tab-btn" data-tab="completed">ÏôÑÎ£åÎêú ÏûëÏóÖ</button>
                <button class="tab-btn" data-tab="saved">Ï†ÄÏû•Ìïú ÏûëÏóÖ</button>
            </div>
        </div>

        <!-- Filter Bar -->
        <div class="filter-bar">
            <div class="filter-group">
                <label>ÏÉÅÌÉú:</label>
                <select class="filter-select" id="statusFilter">
                    <option value="">Ï†ÑÏ≤¥</option>
                    <option value="pending">ÎåÄÍ∏∞Ï§ë</option>
                    <option value="approved">ÏäπÏù∏</option>
                    <option value="rejected">Í±∞Ï†à</option>
                    <option value="completed">ÏôÑÎ£å</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label>Î∂ÑÏïº:</label>
                <select class="filter-select" id="categoryFilter">
                    <option value="">Ï†ÑÏ≤¥</option>
                    <option value="rice">ÎÖºÎÜçÏÇ¨</option>
                    <option value="field">Î∞≠ÎÜçÏÇ¨</option>
                    <option value="fruit">Í≥ºÏàòÏõê</option>
                    <option value="livestock">Ï∂ïÏÇ∞ÏóÖ</option>
                    <option value="facility">ÏãúÏÑ§Í¥ÄÎ¶¨</option>
                </select>
            </div>
            
            <input type="text" class="search-input" placeholder="ÏûëÏóÖ Ï†úÎ™©, ÏßÄÏó≠ÏúºÎ°ú Í≤ÄÏÉâ..." id="searchInput">
            <button class="btn btn-primary btn-small" onclick="searchApplications()">Í≤ÄÏÉâ</button>
        </div>

        <!-- Applications Section -->
        <div class="applications-section">
            <div class="section-header">
                <div class="results-count">Ï¥ù <strong>12</strong>Í∞úÏùò ÏßÄÏõê</div>
                <div class="sort-options">
                    <button class="sort-btn active" data-sort="recent">ÏµúÏã†Ïàú</button>
                    <button class="sort-btn" data-sort="status">ÏÉÅÌÉúÏàú</button>
                    <button class="sort-btn" data-sort="date">ÏûëÏóÖÏùºÏàú</button>
                </div>
            </div>

            <div class="applications-list" id="applicationsList">
                <!-- ÏßÄÏõê Î™©Î°ùÏù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
            </div>
        </div>
    </div>

    <script>
        // ÏÉòÌîå Îç∞Ïù¥ÌÑ∞
        const sampleApplications = [
            {
                id: 1,
                title: "Î≤º ÏàòÌôï ÏûëÏóÖ (ÏΩ§Î∞îÏù∏ Î≥¥Ïú†Ïûê Ïö∞ÎåÄ)",
                category: "ÎÖºÎÜçÏÇ¨",
                location: "Ï†ÑÎ∂Å ÏôÑÏ£ºÍµ∞ Í≥†ÏÇ∞Î©¥",
                employer: "ÍπÄÎÜçÎ∂Ä",
                price: "180,000",
                priceType: "ÏùºÎãπ",
                status: "approved",
                appliedAt: "2025-09-04T08:30:00",
                workDate: "2025-09-06",
                urgent: true,
                description: "ÏïΩ 3ÎßåÌèâ Í∑úÎ™®Ïùò Î≤ºÎÖºÏóêÏÑú ÏàòÌôï ÏûëÏóÖÏùÑ ÏßÑÌñâÌï©ÎãàÎã§. ÏΩ§Î∞îÏù∏ÏùÑ Î≥¥Ïú†ÌïòÏã† Î∂ÑÏùÑ Ïö∞ÎåÄÌï©ÎãàÎã§.",
                hasMessage: true,
                message: {
                    from: "ÍπÄÎÜçÎ∂Ä",
                    content: "ÎÇ¥Ïùº Ïò§Ï†Ñ 6ÏãúÏóê ÌòÑÏû•ÏóêÏÑú ÎßåÎÇòÎµôÍ≤†ÏäµÎãàÎã§. ÏûëÏóÖÎ≥µÍ≥º ÎèÑÏãúÎùΩÏùÑ Ï§ÄÎπÑÌï¥ Ï£ºÏÑ∏Ïöî.",
                    time: "1ÏãúÍ∞Ñ Ï†Ñ"
                }
            },
            {
                id: 2,
                title: "Îî∏Í∏∞Î∞≠ Ï†ïÎ¶¨ Î∞è Î™®Ï¢Ö Ïã¨Í∏∞",
                category: "Î∞≠ÎÜçÏÇ¨",
                location: "Ï†ÑÎ∂Å Ï†ÑÏ£ºÏãú ÎçïÏßÑÍµ¨",
                employer: "Ïù¥ÎÜçÏû•",
                price: "15,000",
                priceType: "ÏãúÍ∏â",
                status: "pending",
                appliedAt: "2025-09-03T14:20:00",
                workDate: "2025-09-07",
                urgent: false,
                description: "Í≤®Ïö∏Ï≤† Îî∏Í∏∞ Ïû¨Î∞∞Î•º ÏúÑÌïú Î∞≠ Ï†ïÎ¶¨ÏôÄ Î™®Ï¢Ö Ïã¨Í∏∞ ÏûëÏóÖÏûÖÎãàÎã§.",
                hasMessage: false
            },
            {
                id: 3,
                title: "Ï∂ïÏÇ¨ Ï≤≠ÏÜå Î∞è ÏÇ¨Î£å Î∞∞Í∏â",
                category: "Ï∂ïÏÇ∞ÏóÖ",
                location: "Ï†ÑÎ∂Å ÏßÑÏïàÍµ∞ ÎßàÎ†πÎ©¥",
                employer: "Î∞ïÎ™©Ïû•",
                price: "120,000",
                priceType: "ÏùºÎãπ",
                status: "rejected",
                appliedAt: "2025-09-02T16:45:00",
                workDate: "2025-09-10",
                urgent: false,
                description: "ÌïúÏö∞ 60Îëê Í∑úÎ™® Ï∂ïÏÇ¨Ïùò ÏùºÏùº Í¥ÄÎ¶¨ ÏóÖÎ¨¥ÏûÖÎãàÎã§.",
                hasMessage: true,
                message: {
                    from: "Î∞ïÎ™©Ïû•",
                    content: "Ï£ÑÏÜ°Ìï©ÎãàÎã§. Ïù¥Î≤àÏóêÎäî Ï∂ïÏÇ∞ Í≤ΩÌóòÏù¥ ÏûàÎäî Î∂ÑÏúºÎ°ú Í≤∞Ï†ïÌñàÏäµÎãàÎã§. Îã§Ïùå Í∏∞ÌöåÏóê Îã§Ïãú ÏßÄÏõêÌï¥ Ï£ºÏÑ∏Ïöî.",
                    time: "2Ïùº Ï†Ñ"
                }
            },
            {
                id: 4,
                title: "ÏÇ¨Í≥º ÏàòÌôï ÎèÑÏö∞ÎØ∏",
                category: "Í≥ºÏàòÏõê",
                location: "Ï†ÑÎ∂Å ÏûÑÏã§Íµ∞ Í¥ÄÏ¥åÎ©¥",
                employer: "ÏµúÍ≥ºÏàòÏõê",
                price: "13,000",
                priceType: "ÏãúÍ∏â",
                status: "completed",
                appliedAt: "2025-08-28T09:10:00",
                workDate: "2025-08-30",
                urgent: false,
                description: "ÏÇ¨Í≥º ÏàòÌôïÏ≤†ÏùÑ ÎßûÏïÑ Í≥ºÏàòÏõêÏóêÏÑú ÏÇ¨Í≥º Îî∞Í∏∞ ÏûëÏóÖÏùÑ ÎèÑÏôÄÏ£ºÏã§ Î∂ÑÏùÑ Ï∞æÏäµÎãàÎã§.",
                hasMessage: false,
                rating: 5,
                review: "ÏÑ±Ïã§ÌïòÍ≤å ÏùºÌï¥Ï£ºÏÖîÏÑú Í∞êÏÇ¨ÌñàÏäµÎãàÎã§. Îã§ÏùåÏóêÎèÑ Îòê Î∂ÄÌÉÅÎìúÎ¶¨Í≥† Ïã∂ÏäµÎãàÎã§."
            },
            {
                id: 5,
                title: "ÎπÑÎãêÌïòÏö∞Ïä§ Î≥¥Ïàò ÏûëÏóÖ",
                category: "ÏãúÏÑ§Í¥ÄÎ¶¨",
                location: "Ï†ÑÎ∂Å Î¨¥Ï£ºÍµ∞ ÏÑ§Ï≤úÎ©¥",
                employer: "Ï†ïÎÜçÏõê",
                price: "200,000",
                priceType: "Ï¥ùÏï°",
                status: "pending",
                appliedAt: "2025-09-01T11:30:00",
                workDate: "ÌòëÏùò",
                urgent: false,
                description: "Í≤®Ïö∏Ï≤† ÎåÄÎπÑ ÎπÑÎãêÌïòÏö∞Ïä§ Î≥¥Ïàò ÏûëÏóÖÏûÖÎãàÎã§.",
                hasMessage: true,
                message: {
                    from: "Ï†ïÎÜçÏõê",
                    content: "ÏßÄÏõêÌï¥Ï£ºÏÖîÏÑú Í∞êÏÇ¨Ìï©ÎãàÎã§. Îã§Î•∏ ÏßÄÏõêÏûêÎì§Í≥º Ìï®Íªò Í≤ÄÌÜ† Ï§ëÏûÖÎãàÎã§.",
                    time: "3Ïùº Ï†Ñ"
                }
            }
        ];

        // ÏÉÅÌÉúÎ≥Ñ ÌïúÍ∏Ä Îß§Ìïë
        const statusMap = {
            'pending': 'ÎåÄÍ∏∞Ï§ë',
            'approved': 'ÏäπÏù∏Îê®',
            'rejected': 'Í±∞Ï†àÎê®',
            'completed': 'ÏôÑÎ£åÎê®'
        };

        // Ïπ¥ÌÖåÍ≥†Î¶¨ ÌïúÏòÅ Îß§Ìïë
        const categoryMap = {
            "ÎÖºÎÜçÏÇ¨": "rice",
            "Î∞≠ÎÜçÏÇ¨": "field", 
            "Í≥ºÏàòÏõê": "fruit",
            "Ï∂ïÏÇ∞ÏóÖ": "livestock",
            "ÏãúÏÑ§Í¥ÄÎ¶¨": "facility"
        };

        // ÏßÄÏõê Ìï≠Î™© Î†åÎçîÎßÅ
        function renderApplications(applications) {
            const container = document.getElementById('applicationsList');
            
            if (applications.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üìù</div>
                        <h3 class="empty-title">ÏßÄÏõêÌïú ÏûëÏóÖÏù¥ ÏóÜÏäµÎãàÎã§</h3>
                        <p class="empty-description">ÏÉàÎ°úÏö¥ ÏùºÍ±∞Î¶¨Î•º Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî!</p>
                        <a href="#" class="btn btn-primary">ÏùºÍ±∞Î¶¨ Ï∞æÍ∏∞</a>
                    </div>
                `;
                return;
            }

            container.innerHTML = applications.map(app => `
                <div class="application-item" onclick="viewApplicationDetail(${app.id})">
                    ${app.hasMessage ? '<div class="notification-dot"></div>' : ''}
                    
                    <div class="application-header">
                        <div class="work-info">
                            <h3>
                                ${app.title}
                                ${app.urgent ? '<span class="urgent-indicator">Í∏¥Í∏â</span>' : ''}
                            </h3>
                            <div class="work-meta">
                                <div class="meta-item">üìç ${app.location}</div>
                                <div class="meta-item">üë®‚Äçüåæ ${app.employer}</div>
                                <div class="meta-item">üìÖ ${app.workDate}</div>
                            </div>
                            <div class="work-category">${app.category}</div>
                        </div>
                        <div class="application-status">
                            <div class="status-badge status-${app.status}">
                                ${statusMap[app.status]}
                            </div>
                            <div class="application-time">${formatTime(app.appliedAt)} ÏßÄÏõê</div>
                        </div>
                    </div>
                    
                    <div class="application-description">${app.description}</div>
                    
                    ${app.hasMessage ? `
                        <div class="message-section">
                            <div class="message-item">
                                <div class="message-from">${app.message.from}ÎãòÏùò Î©îÏãúÏßÄ</div>
                                <div class="message-content">${app.message.content}</div>
                                <div class="message-time">${app.message.time}</div>
                            </div>
                        </div>
                    ` : ''}
                    
                    ${app.rating ? `
                        <div class="rating-section">
                            <div class="rating-stars">${'‚òÖ'.repeat(app.rating)}${'‚òÜ'.repeat(5-app.rating)}</div>
                            <div class="rating-comment">"${app.review}"</div>
                        </div>
                    ` : ''}
                    
                    <div class="application-footer">
                        <div class="payment-info">
                            <span class="payment-amount">${parseInt(app.price).toLocaleString()}Ïõê</span>
                            <span class="work-date">${app.priceType}</span>
                        </div>
                        <div class="application-actions">
                            ${getActionButtons(app.status, app.id)}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // ÏÉÅÌÉúÎ≥Ñ Ïï°ÏÖò Î≤ÑÌäº
        function getActionButtons(status, id) {
            switch(status) {
                case 'pending':
                    return `
                        <button class="btn btn-outline btn-small" onclick="cancelApplication(${id}, event)">ÏßÄÏõê Ï∑®ÏÜå</button>
                        <button class="btn btn-primary btn-small" onclick="sendMessage(${id}, event)">Î©îÏãúÏßÄ</button>
                    `;
                case 'approved':
                    return `
                        <button class="btn btn-primary btn-small" onclick="sendMessage(${id}, event)">Î©îÏãúÏßÄ</button>
                    `;
                case 'rejected':
                    return `
                        <button class="btn btn-outline btn-small" onclick="deleteApplication(${id}, event)">ÏÇ≠Ï†ú</button>
                    `;
                case 'completed':
                    return `
                        <button class="btn btn-outline btn-small" onclick="writeReview(${id}, event)">Î¶¨Î∑∞ ÏûëÏÑ±</button>
                    `;
                default:
                    return '';
            }
        }

        // ÏãúÍ∞Ñ Ìè¨Îß∑ÌåÖ
        function formatTime(timeString) {
            const date = new Date(timeString);
            const now = new Date();
            const diffInHours = Math.floor((now - date) / (1000 * 60 * 60));
            
            if (diffInHours < 1) return 'Î∞©Í∏à Ï†Ñ';
            if (diffInHours < 24) return `${diffInHours}ÏãúÍ∞Ñ Ï†Ñ`;
            
            const diffInDays = Math.floor(diffInHours / 24);
            if (diffInDays < 7) return `${diffInDays}Ïùº Ï†Ñ`;
            
            return date.toLocaleDateString();
        }

        // ÌïÑÌÑ∞ÎßÅ Ìï®Ïàò
        function filterApplications() {
            const statusFilter = document.getElementById('statusFilter').value;
            const categoryFilter = document.getElementById('categoryFilter').value;
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            let filtered = sampleApplications;
            
            // ÏÉÅÌÉú ÌïÑÌÑ∞
            if (statusFilter) {
                filtered = filtered.filter(app => app.status === statusFilter);
            }
            
            // Ïπ¥ÌÖåÍ≥†Î¶¨ ÌïÑÌÑ∞
            if (categoryFilter) {
                filtered = filtered.filter(app => categoryMap[app.category] === categoryFilter);
            }
            
            // Í≤ÄÏÉâÏñ¥ ÌïÑÌÑ∞
            if (searchTerm) {
                filtered = filtered.filter(app => 
                    app.title.toLowerCase().includes(searchTerm) ||
                    app.location.toLowerCase().includes(searchTerm) ||
                    app.employer.toLowerCase().includes(searchTerm)
                );
            }
            
            return filtered;
        }

        // Ï†ïÎ†¨ Ìï®Ïàò
        function sortApplications(applications, sortBy) {
            const sorted = [...applications];
            
            switch(sortBy) {
                case 'recent':
                    return sorted.sort((a, b) => new Date(b.appliedAt) - new Date(a.appliedAt));
                case 'status':
                    const statusOrder = ['approved', 'pending', 'rejected', 'completed'];
                    return sorted.sort((a, b) => statusOrder.indexOf(a.status) - statusOrder.indexOf(b.status));
                case 'date':
                    return sorted.sort((a, b) => new Date(a.workDate) - new Date(b.workDate));
                default:
                    return sorted;
            }
        }

        // ÏßÄÏõê Î™©Î°ù ÏóÖÎç∞Ïù¥Ìä∏
        function updateApplicationsList() {
            const filtered = filterApplications();
            const sortBy = document.querySelector('.sort-btn.active').dataset.sort;
            const sorted = sortApplications(filtered, sortBy);
            renderApplications(sorted);
            
            // Í≤∞Í≥º Ïàò ÏóÖÎç∞Ïù¥Ìä∏
            document.querySelector('.results-count').innerHTML = 
                `Ï¥ù <strong>${sorted.length}</strong>Í∞úÏùò ÏßÄÏõê`;
        }

        // Í≤ÄÏÉâ Ìï®Ïàò
        function searchApplications() {
            updateApplicationsList();
        }

        // ÏßÄÏõê ÏÉÅÏÑ∏ Î≥¥Í∏∞
        function viewApplicationDetail(id) {
            alert(`ÏßÄÏõê ÏÉÅÏÑ∏ Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï©ÎãàÎã§. (ID: ${id})`);
            // window.location.href = `DG-work-detail.html?id=${workId}`;
        }

        // ÏßÄÏõê Ï∑®ÏÜå
        function cancelApplication(id, event) {
            event.stopPropagation();
            
            if (confirm('Ï†ïÎßêÎ°ú ÏßÄÏõêÏùÑ Ï∑®ÏÜåÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                alert('ÏßÄÏõêÏù¥ Ï∑®ÏÜåÎêòÏóàÏäµÎãàÎã§.');
                // Ïã§Ï†ú ÏÑúÎπÑÏä§ÏóêÏÑúÎäî ÏÑúÎ≤Ñ API Ìò∏Ï∂ú
                updateApplicationsList();
            }
        }

        // Î©îÏãúÏßÄ Î≥¥ÎÇ¥Í∏∞
        function sendMessage(id, event) {
            event.stopPropagation();
            alert('Î©îÏãúÏßÄ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.');
            // window.location.href = `DG-chat-room.html?application=${id}`;
        }

        // ÏßÄÏõê ÏÇ≠Ï†ú
        function deleteApplication(id, event) {
            event.stopPropagation();
            
            if (confirm('Ïù¥ ÏßÄÏõê Í∏∞Î°ùÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                alert('ÏßÄÏõê Í∏∞Î°ùÏù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.');
                updateApplicationsList();
            }
        }

        // Î¶¨Î∑∞ ÏûëÏÑ±
        function writeReview(id, event) {
            event.stopPropagation();
            alert('Î¶¨Î∑∞ ÏûëÏÑ± ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.');
            // window.location.href = `DG-write-review.html?application=${id}`;
        }

        // Îí§Î°úÍ∞ÄÍ∏∞
        function goBack() {
            window.history.back();
        }

        // Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Îì±Î°ù
        document.addEventListener('DOMContentLoaded', function() {
            // Ï¥àÍ∏∞ Î†åÎçîÎßÅ
            renderApplications(sampleApplications);
            
            // ÌÉ≠ Î≤ÑÌäº ÌÅ¥Î¶≠
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const tab = this.dataset.tab;
                    handleTabChange(tab);
                });
            });
            
            // Ï†ïÎ†¨ Î≤ÑÌäº ÌÅ¥Î¶≠
            document.querySelectorAll('.sort-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.sort-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    updateApplicationsList();
                });
            });
            
            // ÌïÑÌÑ∞ Î≥ÄÍ≤Ω
            document.getElementById('statusFilter').addEventListener('change', updateApplicationsList);
            document.getElementById('categoryFilter').addEventListener('change', updateApplicationsList);
            
            // Í≤ÄÏÉâ Enter ÌÇ§
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchApplications();
                }
            });
        });

        // ÌÉ≠ Î≥ÄÍ≤Ω Ï≤òÎ¶¨
        function handleTabChange(tab) {
            switch(tab) {
                case 'applications':
                    renderApplications(sampleApplications);
                    break;
                case 'requests':
                    alert('ÎÇ¥Í∞Ä Îì±Î°ùÌïú ÏûëÏóÖ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.');
                    // window.location.href = 'DG-my-requests.html';
                    break;
                case 'completed':
                    const completed = sampleApplications.filter(app => app.status === 'completed');
                    renderApplications(completed);
                    break;
                case 'saved':
                    alert('Ï†ÄÏû•Ìïú ÏûëÏóÖ ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.');
                    break;
            }
        }

        // Ïã§ÏãúÍ∞Ñ ÏïåÎ¶º ÏãúÎÆ¨Î†àÏù¥ÏÖò
        function simulateNotifications() {
            if (Math.random() > 0.8) {
                // ÏÉà Î©îÏãúÏßÄ ÏïåÎ¶º
                const randomApp = sampleApplications[Math.floor(Math.random() * sampleApplications.length)];
                if (!randomApp.hasMessage && randomApp.status === 'pending') {
                    randomApp.hasMessage = true;
                    randomApp.message = {
                        from: randomApp.employer,
                        content: "ÏÉàÎ°úÏö¥ Î©îÏãúÏßÄÍ∞Ä ÎèÑÏ∞©ÌñàÏäµÎãàÎã§.",
                        time: "Î∞©Í∏à Ï†Ñ"
                    };
                    updateApplicationsList();
                }
            }
        }

        // 30Ï¥àÎßàÎã§ ÏïåÎ¶º ÌôïÏù∏
        setInterval(simulateNotifications, 30000);
    </script>
</body>
</html>