<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Îã®Í∞ê - ÎÇ¥ ÏûëÏóÖ Í¥ÄÎ¶¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        /* Header */
        .header {
            background: white;
            padding: 1rem 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .back-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #666;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: #f0f0f0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2d5a27;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .logo::before {
            content: "üçä";
            font-size: 2rem;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: #2d5a27;
            color: white;
        }

        .btn-primary:hover {
            background: #1e3d1a;
            transform: translateY(-2px);
        }

        .btn-outline {
            border: 2px solid #2d5a27;
            color: #2d5a27;
            background: transparent;
        }

        .btn-outline:hover {
            background: #2d5a27;
            color: white;
        }

        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Page Header */
        .page-header {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .page-title {
            font-size: 1.8rem;
            color: #2d5a27;
            margin-bottom: 0.5rem;
        }

        .page-subtitle {
            color: #666;
            margin-bottom: 1.5rem;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .stat-card {
            background: linear-gradient(135deg, #2d5a27, #4a7c59);
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .stat-card.recruiting {
            background: linear-gradient(135deg, #17a2b8, #20c997);
        }

        .stat-card.completed {
            background: linear-gradient(135deg, #28a745, #34ce57);
        }

        .stat-card.expired {
            background: linear-gradient(135deg, #6c757d, #868e96);
        }

        /* Filter Bar */
        .filter-bar {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-select {
            padding: 0.5rem 1rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: white;
            cursor: pointer;
        }

        .search-input {
            flex: 1;
            min-width: 200px;
            padding: 0.75rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
        }

        .search-input:focus {
            outline: none;
            border-color: #2d5a27;
        }

        /* Requests Section */
        .requests-section {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }

        .results-count {
            color: #666;
            font-size: 0.9rem;
        }

        .sort-options {
            display: flex;
            gap: 0.5rem;
        }

        .sort-btn {
            padding: 0.4rem 0.8rem;
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
            border-radius: 5px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .sort-btn.active {
            background: #2d5a27;
            color: white;
            border-color: #2d5a27;
        }

        /* Request Items */
        .request-item {
            border: 1px solid #eee;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
            position: relative;
        }

        .request-item:hover {
            border-color: #2d5a27;
            box-shadow: 0 5px 15px rgba(45, 90, 39, 0.1);
            transform: translateY(-2px);
        }

        .request-item:last-child {
            margin-bottom: 0;
        }

        .request-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .request-info h3 {
            font-size: 1.2rem;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .request-meta {
            display: flex;
            gap: 1rem;
            align-items: center;
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.5rem;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .request-category {
            background: #e8f5e8;
            color: #2d5a27;
            padding: 0.3rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .request-status {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 0.5rem;
        }

        .status-badge {
            padding: 0.4rem 1rem;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 600;
            text-align: center;
            min-width: 80px;
        }

        .status-recruiting {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .status-in-progress {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .status-completed {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-expired {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .request-time {
            font-size: 0.8rem;
            color: #999;
        }

        .request-description {
            color: #555;
            line-height: 1.6;
            margin-bottom: 1rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .applicants-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .applicants-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .applicants-count {
            font-weight: 600;
            color: #2d5a27;
        }

        .view-all-applicants {
            color: #666;
            font-size: 0.9rem;
            cursor: pointer;
            text-decoration: underline;
        }

        .applicants-preview {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .applicant-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            background: white;
            border-radius: 8px;
            border: 1px solid #dee2e6;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .applicant-item:hover {
            border-color: #2d5a27;
            background: #f0f8f0;
        }

        .applicant-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: linear-gradient(135deg, #2d5a27, #4a7c59);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            color: white;
            font-weight: bold;
        }

        .applicant-info {
            display: flex;
            flex-direction: column;
        }

        .applicant-name {
            font-size: 0.9rem;
            font-weight: 600;
            color: #333;
        }

        .applicant-rating {
            font-size: 0.8rem;
            color: #666;
        }

        .request-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid #f0f0f0;
        }

        .payment-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .payment-amount {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2d5a27;
        }

        .work-date {
            color: #666;
            font-size: 0.9rem;
        }

        .request-actions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        /* Urgent Badge */
        .urgent-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: #dc3545;
            color: white;
            padding: 0.3rem 0.6rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: #666;
        }

        .empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .empty-title {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .empty-description {
            margin-bottom: 2rem;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }

        .modal-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .applicant-detail {
            padding: 1rem;
            border: 1px solid #eee;
            border-radius: 10px;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .applicant-detail:hover {
            border-color: #2d5a27;
            background: #f8f9fa;
        }

        .applicant-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .applicant-main-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .applicant-details h4 {
            color: #333;
            margin-bottom: 0.3rem;
        }

        .applicant-stats {
            display: flex;
            gap: 1rem;
            font-size: 0.9rem;
            color: #666;
        }

        .applicant-message {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 3px solid #2d5a27;
        }

        .message-content {
            color: #555;
            line-height: 1.5;
        }

        .applicant-actions {
            display: flex;
            gap: 0.5rem;
            justify-content: flex-end;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .request-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .request-status {
                align-items: flex-start;
                width: 100%;
            }
            
            .request-meta {
                flex-wrap: wrap;
            }
            
            .filter-bar {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-input {
                min-width: unset;
            }
            
            .request-footer {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .request-actions {
                width: 100%;
                justify-content: flex-start;
            }
        }

        .notification-dot {
            position: absolute;
            top: 0.5rem;
            left: 0.5rem;
            width: 12px;
            height: 12px;
            background: #dc3545;
            border-radius: 50%;
            border: 2px solid white;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-left">
            <button class="back-btn" onclick="goBack()">‚Üê</button>
            <a href="#" class="logo">Îã®Í∞ê</a>
        </div>
        <div class="header-actions">
            <a href="#" class="btn btn-outline">ÏùºÍ±∞Î¶¨ Ï∞æÍ∏∞</a>
            <a href="#" class="btn btn-primary">+ ÏÉà ÏûëÏóÖ Îì±Î°ù</a>
        </div>
    </header>

    <div class="container">
        <!-- Page Header with Stats -->
        <div class="page-header">
            <h1 class="page-title">ÎÇ¥ ÏûëÏóÖ Í¥ÄÎ¶¨</h1>
            <p class="page-subtitle">Îì±Î°ùÌïú ÏûëÏóÖÏùò ÌòÑÌô©ÏùÑ ÌôïÏù∏ÌïòÍ≥† ÏßÄÏõêÏûêÎì§ÏùÑ Í¥ÄÎ¶¨ÌïòÏÑ∏Ïöî</p>
            
            <div class="stats-grid">
                <div class="stat-card recruiting">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Î™®ÏßëÏ§ëÏù∏ ÏûëÏóÖ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">23</div>
                    <div class="stat-label">Ï¥ù ÏßÄÏõêÏûê Ïàò</div>
                </div>
                <div class="stat-card completed">
                    <div class="stat-number">12</div>
                    <div class="stat-label">ÏôÑÎ£åÎêú ÏûëÏóÖ</div>
                </div>
                <div class="stat-card expired">
                    <div class="stat-number">3</div>
                    <div class="stat-label">Í∏∞Í∞Ñ ÎßåÎ£å</div>
                </div>
            </div>
        </div>

        <!-- Filter Bar -->
        <div class="filter-bar">
            <div class="filter-group">
                <label>ÏÉÅÌÉú:</label>
                <select class="filter-select" id="statusFilter">
                    <option value="">Ï†ÑÏ≤¥</option>
                    <option value="recruiting">Î™®ÏßëÏ§ë</option>
                    <option value="in-progress">ÏßÑÌñâÏ§ë</option>
                    <option value="completed">ÏôÑÎ£å</option>
                    <option value="expired">ÎßåÎ£å</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label>Î∂ÑÏïº:</label>
                <select class="filter-select" id="categoryFilter">
                    <option value="">Ï†ÑÏ≤¥</option>
                    <option value="rice">ÎÖºÎÜçÏÇ¨</option>
                    <option value="field">Î∞≠ÎÜçÏÇ¨</option>
                    <option value="fruit">Í≥ºÏàòÏõê</option>
                    <option value="livestock">Ï∂ïÏÇ∞ÏóÖ</option>
                    <option value="facility">ÏãúÏÑ§Í¥ÄÎ¶¨</option>
                </select>
            </div>
            
            <input type="text" class="search-input" placeholder="ÏûëÏóÖ Ï†úÎ™©ÏúºÎ°ú Í≤ÄÏÉâ..." id="searchInput">
            <button class="btn btn-primary btn-small" onclick="searchRequests()">Í≤ÄÏÉâ</button>
        </div>

        <!-- Requests Section -->
        <div class="requests-section">
            <div class="section-header">
                <div class="results-count">Ï¥ù <strong>8</strong>Í∞úÏùò Îì±Î°ùÎêú ÏûëÏóÖ</div>
                <div class="sort-options">
                    <button class="sort-btn active" data-sort="recent">ÏµúÏã†Ïàú</button>
                    <button class="sort-btn" data-sort="applicants">ÏßÄÏõêÏûêÏàú</button>
                    <button class="sort-btn" data-sort="date">ÏûëÏóÖÏùºÏàú</button>
                    <button class="sort-btn" data-sort="status">ÏÉÅÌÉúÏàú</button>
                </div>
            </div>

            <div class="requests-list" id="requestsList">
                <!-- ÏöîÏ≤≠ Î™©Î°ùÏù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
            </div>
        </div>
    </div>

    <!-- Applicants Modal -->
    <div class="modal" id="applicantsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ÏßÄÏõêÏûê Î™©Î°ù</h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            
            <div id="applicantsDetail">
                <!-- ÏßÄÏõêÏûê ÏÉÅÏÑ∏ Î™©Î°ùÏù¥ Ïó¨Í∏∞Ïóê Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
            </div>
        </div>
    </div>

    <script>
        // ÏÉòÌîå Îç∞Ïù¥ÌÑ∞
        const sampleRequests = [
            {
                id: 1,
                title: "Î≤º ÏàòÌôï ÏûëÏóÖ (ÏΩ§Î∞îÏù∏ Î≥¥Ïú†Ïûê Ïö∞ÎåÄ)",
                category: "ÎÖºÎÜçÏÇ¨",
                location: "Ï†ÑÎ∂Å ÏôÑÏ£ºÍµ∞ Í≥†ÏÇ∞Î©¥",
                price: "180,000",
                priceType: "ÏùºÎãπ",
                status: "recruiting",
                createdAt: "2025-09-04T10:30:00",
                workDate: "2025-09-06",
                urgent: true,
                description: "ÏïΩ 3ÎßåÌèâ Í∑úÎ™®Ïùò Î≤ºÎÖºÏóêÏÑú ÏàòÌôï ÏûëÏóÖÏùÑ ÏßÑÌñâÌï©ÎãàÎã§. ÏΩ§Î∞îÏù∏ÏùÑ Î≥¥Ïú†ÌïòÏã† Î∂ÑÏùÑ Ïö∞ÎåÄÌï©ÎãàÎã§.",
                applicantsCount: 5,
                viewsCount: 47,
                applicants: [
                    {
                        id: 1,
                        name: "Ïù¥ÎÜçÎ∂Ä",
                        rating: 4.8,
                        completedWorks: 23,
                        hasEquipment: true,
                        message: "ÏïàÎÖïÌïòÏÑ∏Ïöî! 5ÎÖÑÏ∞® ÎÜçÏûëÏóÖ Ï†ÑÎ¨∏Í∞ÄÏûÖÎãàÎã§. ÏΩ§Î∞îÏù∏ Î≥¥Ïú†ÌïòÍ≥† ÏûàÏúºÎ©∞ Î≤º ÏàòÌôï Í≤ΩÌóòÏù¥ ÌíçÎ∂ÄÌï©ÎãàÎã§.",
                        appliedAt: "2025-09-04T11:30:00"
                    },
                    {
                        id: 2,
                        name: "Î∞ïÍ∏∞Í≥Ñ",
                        rating: 4.9,
                        completedWorks: 45,
                        hasEquipment: true,
                        message: "ÎåÄÌòï ÏΩ§Î∞îÏù∏ 2ÎåÄ Î≥¥Ïú†ÌïòÍ≥† ÏûàÏäµÎãàÎã§. Ïã†ÏÜçÌïòÍ≥† Ï†ïÌôïÌïú ÏûëÏóÖ ÏïΩÏÜçÎìúÎ¶ΩÎãàÎã§.",
                        appliedAt: "2025-09-04T12:15:00"
                    }
                ]
            },
            {
                id: 2,
                title: "Îî∏Í∏∞Î∞≠ Ï†ïÎ¶¨ Î∞è Î™®Ï¢Ö Ïã¨Í∏∞",
                category: "Î∞≠ÎÜçÏÇ¨",
                location: "Ï†ÑÎ∂Å Ï†ÑÏ£ºÏãú ÎçïÏßÑÍµ¨",
                price: "15,000",
                priceType: "ÏãúÍ∏â",
                status: "in-progress",
                createdAt: "2025-09-03T14:20:00",
                workDate: "2025-09-05",
                urgent: false,
                description: "Í≤®Ïö∏Ï≤† Îî∏Í∏∞ Ïû¨Î∞∞Î•º ÏúÑÌïú Î∞≠ Ï†ïÎ¶¨ÏôÄ Î™®Ï¢Ö Ïã¨Í∏∞ ÏûëÏóÖÏûÖÎãàÎã§.",
                applicantsCount: 8,
                viewsCount: 62,
                selectedApplicant: "ÍπÄÎî∏Í∏∞",
                applicants: [
                    {
                        id: 3,
                        name: "ÍπÄÎî∏Í∏∞",
                        rating: 4.7,
                        completedWorks: 18,
                        hasEquipment: false,
                        message: "Îî∏Í∏∞ ÎÜçÏÇ¨ Ï†ÑÎ¨∏ÏúºÎ°ú ÌïòÍ≥† ÏûàÏäµÎãàÎã§. Ï†ïÏÑ±Íªè ÏûëÏóÖÌïòÍ≤†ÏäµÎãàÎã§.",
                        appliedAt: "2025-09-03T15:30:00",
                        selected: true
                    }
                ]
            },
            {
                id: 3,
                title: "Ï∂ïÏÇ¨ Ï≤≠ÏÜå Î∞è ÏÇ¨Î£å Î∞∞Í∏â",
                category: "Ï∂ïÏÇ∞ÏóÖ",
                location: "Ï†ÑÎ∂Å ÏßÑÏïàÍµ∞ ÎßàÎ†πÎ©¥",
                price: "120,000",
                priceType: "ÏùºÎãπ",
                status: "completed",
                createdAt: "2025-08-28T16:45:00",
                workDate: "2025-08-30",
                urgent: false,
                description: "ÌïúÏö∞ 60Îëê Í∑úÎ™® Ï∂ïÏÇ¨Ïùò ÏùºÏùº Í¥ÄÎ¶¨ ÏóÖÎ¨¥ÏûÖÎãàÎã§.",
                applicantsCount: 3,
                viewsCount: 28,
                completedBy: "Ï†ïÏ∂ïÏÇ∞",
                rating: 5,
                review: "Îß§Ïö∞ ÏÑ±Ïã§ÌïòÍ≤å ÏûëÏóÖÌï¥Ï£ºÏÖ®ÏäµÎãàÎã§."
            }
        ];

        // ÏÉÅÌÉúÎ≥Ñ ÌïúÍ∏Ä Îß§Ìïë
        const statusMap = {
            'recruiting': 'Î™®ÏßëÏ§ë',
            'in-progress': 'ÏßÑÌñâÏ§ë',
            'completed': 'ÏôÑÎ£åÎê®',
            'expired': 'ÎßåÎ£åÎê®'
        };

        // Ïπ¥ÌÖåÍ≥†Î¶¨ ÌïúÏòÅ Îß§Ìïë
        const categoryMap = {
            "ÎÖºÎÜçÏÇ¨": "rice",
            "Î∞≠ÎÜçÏÇ¨": "field", 
            "Í≥ºÏàòÏõê": "fruit",
            "Ï∂ïÏÇ∞ÏóÖ": "livestock",
            "ÏãúÏÑ§Í¥ÄÎ¶¨": "facility"
        };

        // ÏöîÏ≤≠ Ìï≠Î™© Î†åÎçîÎßÅ
        function renderRequests(requests) {
            const container = document.getElementById('requestsList');
            
            if (requests.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üìù</div>
                        <h3 class="empty-title">Îì±Î°ùÌïú ÏûëÏóÖÏù¥ ÏóÜÏäµÎãàÎã§</h3>
                        <p class="empty-description">ÏÉàÎ°úÏö¥ ÏûëÏóÖÏùÑ Îì±Î°ùÌï¥Î≥¥ÏÑ∏Ïöî!</p>
                        <a href="#" class="btn btn-primary">+ ÏÉà ÏûëÏóÖ Îì±Î°ù</a>
                    </div>
                `;
                return;
            }

            container.innerHTML = requests.map(request => `
                <div class="request-item">
                    ${request.urgent ? '<div class="urgent-badge">Í∏¥Í∏â</div>' : ''}
                    ${request.applicantsCount > 0 && request.status === 'recruiting' ? '<div class="notification-dot"></div>' : ''}
                    
                    <div class="request-header">
                        <div class="request-info">
                            <h3>${request.title}</h3>
                            <div class="request-meta">
                                <div class="meta-item">üìç ${request.location}</div>
                                <div class="meta-item">üìÖ ${request.workDate}</div>
                                <div class="meta-item">üëÅÔ∏è ${request.viewsCount}Ìöå Ï°∞Ìöå</div>
                            </div>
                            <div class="request-category">${request.category}</div>
                        </div>
                        <div class="request-status">
                            <div class="status-badge status-${request.status}">
                                ${statusMap[request.status]}
                            </div>
                            <div class="request-time">${formatTime(request.createdAt)} Îì±Î°ù</div>
                        </div>
                    </div>
                    
                    <div class="request-description">${request.description}</div>
                    
                    ${renderApplicantsSection(request)}
                    
                    <div class="request-footer">
                        <div class="payment-info">
                            <span class="payment-amount">${parseInt(request.price).toLocaleString()}Ïõê</span>
                            <span class="work-date">${request.priceType}</span>
                        </div>
                        <div class="request-actions">
                            ${getRequestActions(request)}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // ÏßÄÏõêÏûê ÏÑπÏÖò Î†åÎçîÎßÅ
        function renderApplicantsSection(request) {
            if (request.status === 'completed') {
                return `
                    <div class="applicants-section">
                        <div class="applicants-header">
                            <span class="applicants-count">‚úÖ ÏûëÏóÖ ÏôÑÎ£å: ${request.completedBy}Îãò</span>
                            <span style="color: #ffc107;">${'‚òÖ'.repeat(request.rating)}${request.rating}/5</span>
                        </div>
                        <div style="color: #666; font-style: italic;">"${request.review}"</div>
                    </div>
                `;
            }
            
            if (request.status === 'in-progress' && request.selectedApplicant) {
                return `
                    <div class="applicants-section">
                        <div class="applicants-header">
                            <span class="applicants-count">üöÄ ÏßÑÌñâÏ§ë: ${request.selectedApplicant}ÎãòÍ≥º ÏûëÏóÖ Ï§ë</span>
                            <span class="view-all-applicants" onclick="contactWorker(${request.id})">Ïó∞ÎùΩÌïòÍ∏∞</span>
                        </div>
                    </div>
                `;
            }
            
            if (request.applicantsCount === 0) {
                return `
                    <div class="applicants-section">
                        <div class="applicants-header">
                            <span class="applicants-count">ÏïÑÏßÅ ÏßÄÏõêÏûêÍ∞Ä ÏóÜÏäµÎãàÎã§</span>
                        </div>
                    </div>
                `;
            }
            
            const previewApplicants = request.applicants ? request.applicants.slice(0, 3) : [];
            
            return `
                <div class="applicants-section">
                    <div class="applicants-header">
                        <span class="applicants-count">üë• ${request.applicantsCount}Î™ÖÏù¥ ÏßÄÏõêÌñàÏäµÎãàÎã§</span>
                        <span class="view-all-applicants" onclick="viewAllApplicants(${request.id})">Ï†ÑÏ≤¥ Î≥¥Í∏∞</span>
                    </div>
                    <div class="applicants-preview">
                        ${previewApplicants.map(applicant => `
                            <div class="applicant-item" onclick="viewApplicantDetail(${request.id}, ${applicant.id})">
                                <div class="applicant-avatar">${applicant.name.charAt(0)}</div>
                                <div class="applicant-info">
                                    <div class="applicant-name">${applicant.name}</div>
                                    <div class="applicant-rating">‚≠ê ${applicant.rating} (${applicant.completedWorks}Ìöå)</div>
                                </div>
                            </div>
                        `).join('')}
                        ${request.applicantsCount > 3 ? `<div class="applicant-item">+${request.applicantsCount - 3}Î™Ö Îçî</div>` : ''}
                    </div>
                </div>
            `;
        }

        // ÏöîÏ≤≠Î≥Ñ Ïï°ÏÖò Î≤ÑÌäº
        function getRequestActions(request) {
            switch(request.status) {
                case 'recruiting':
                    return `
                        <button class="btn btn-primary btn-small" onclick="viewAllApplicants(${request.id})">ÏßÄÏõêÏûê Í¥ÄÎ¶¨</button>
                        <button class="btn btn-outline btn-small" onclick="editRequest(${request.id})">ÏàòÏ†ï</button>
                        <button class="btn btn-danger btn-small" onclick="closeRequest(${request.id})">ÎßàÍ∞ê</button>
                    `;
                case 'in-progress':
                    return `
                        <button class="btn btn-primary btn-small" onclick="contactWorker(${request.id})">Ïó∞ÎùΩÌïòÍ∏∞</button>
                        <button class="btn btn-success btn-small" onclick="completeWork(${request.id})">ÏôÑÎ£åÏ≤òÎ¶¨</button>
                    `;
                case 'completed':
                    return `
                        <button class="btn btn-outline btn-small" onclick="viewWorkDetail(${request.id})">ÏÉÅÏÑ∏Î≥¥Í∏∞</button>
                        <button class="btn btn-outline btn-small" onclick="rehireWorker(${request.id})">Ïû¨Í≥†Ïö©</button>
                    `;
                case 'expired':
                    return `
                        <button class="btn btn-outline btn-small" onclick="repostRequest(${request.id})">Ïû¨Îì±Î°ù</button>
                        <button class="btn btn-danger btn-small" onclick="deleteRequest(${request.id})">ÏÇ≠Ï†ú</button>
                    `;
                default:
                    return '';
            }
        }

        // ÏãúÍ∞Ñ Ìè¨Îß∑ÌåÖ
        function formatTime(timeString) {
            const date = new Date(timeString);
            const now = new Date();
            const diffInHours = Math.floor((now - date) / (1000 * 60 * 60));
            
            if (diffInHours < 1) return 'Î∞©Í∏à Ï†Ñ';
            if (diffInHours < 24) return `${diffInHours}ÏãúÍ∞Ñ Ï†Ñ`;
            
            const diffInDays = Math.floor(diffInHours / 24);
            if (diffInDays < 7) return `${diffInDays}Ïùº Ï†Ñ`;
            
            return date.toLocaleDateString();
        }

        // ÌïÑÌÑ∞ÎßÅ Ìï®Ïàò
        function filterRequests() {
            const statusFilter = document.getElementById('statusFilter').value;
            const categoryFilter = document.getElementById('categoryFilter').value;
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            let filtered = sampleRequests;
            
            if (statusFilter) {
                filtered = filtered.filter(request => request.status === statusFilter);
            }
            
            if (categoryFilter) {
                filtered = filtered.filter(request => categoryMap[request.category] === categoryFilter);
            }
            
            if (searchTerm) {
                filtered = filtered.filter(request => 
                    request.title.toLowerCase().includes(searchTerm) ||
                    request.location.toLowerCase().includes(searchTerm)
                );
            }
            
            return filtered;
        }

        // Ï†ïÎ†¨ Ìï®Ïàò
        function sortRequests(requests, sortBy) {
            const sorted = [...requests];
            
            switch(sortBy) {
                case 'recent':
                    return sorted.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
                case 'applicants':
                    return sorted.sort((a, b) => b.applicantsCount - a.applicantsCount);
                case 'date':
                    return sorted.sort((a, b) => new Date(a.workDate) - new Date(b.workDate));
                case 'status':
                    const statusOrder = ['recruiting', 'in-progress', 'completed', 'expired'];
                    return sorted.sort((a, b) => statusOrder.indexOf(a.status) - statusOrder.indexOf(b.status));
                default:
                    return sorted;
            }
        }

        // ÏöîÏ≤≠ Î™©Î°ù ÏóÖÎç∞Ïù¥Ìä∏
        function updateRequestsList() {
            const filtered = filterRequests();
            const sortBy = document.querySelector('.sort-btn.active').dataset.sort;
            const sorted = sortRequests(filtered, sortBy);
            renderRequests(sorted);
            
            document.querySelector('.results-count').innerHTML = 
                `Ï¥ù <strong>${sorted.length}</strong>Í∞úÏùò Îì±Î°ùÎêú ÏûëÏóÖ`;
        }

        // Í≤ÄÏÉâ Ìï®Ïàò
        function searchRequests() {
            updateRequestsList();
        }

        // Ï†ÑÏ≤¥ ÏßÄÏõêÏûê Î≥¥Í∏∞
        function viewAllApplicants(requestId) {
            const request = sampleRequests.find(r => r.id === requestId);
            if (!request || !request.applicants) return;
            
            document.querySelector('.modal-title').textContent = `"${request.title}" ÏßÄÏõêÏûê Î™©Î°ù`;
            
            const applicantsDetail = document.getElementById('applicantsDetail');
            applicantsDetail.innerHTML = request.applicants.map(applicant => `
                <div class="applicant-detail">
                    <div class="applicant-header">
                        <div class="applicant-main-info">
                            <div class="applicant-avatar" style="width: 50px; height: 50px; font-size: 1.2rem;">${applicant.name.charAt(0)}</div>
                            <div class="applicant-details">
                                <h4>${applicant.name} ${applicant.hasEquipment ? 'üöú' : ''}</h4>
                                <div class="applicant-stats">
                                    <span>‚≠ê ${applicant.rating}</span>
                                    <span>ÏôÑÎ£å ${applicant.completedWorks}Ìöå</span>
                                    <span>${formatTime(applicant.appliedAt)} ÏßÄÏõê</span>
                                </div>
                            </div>
                        </div>
                        <div class="applicant-actions">
                            <button class="btn btn-outline btn-small" onclick="contactApplicant(${requestId}, ${applicant.id})">Ïó∞ÎùΩ</button>
                            <button class="btn btn-primary btn-small" onclick="selectApplicant(${requestId}, ${applicant.id})">ÏÑ†ÌÉù</button>
                        </div>
                    </div>
                    <div class="applicant-message">
                        <div class="message-content">${applicant.message}</div>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('applicantsModal').classList.add('show');
        }

        // Î™®Îã¨ Îã´Í∏∞
        function closeModal() {
            document.getElementById('applicantsModal').classList.remove('show');
        }

        // ÏßÄÏõêÏûê ÏÑ†ÌÉù
        function selectApplicant(requestId, applicantId) {
            if (confirm('Ïù¥ ÏßÄÏõêÏûêÎ•º ÏÑ†ÌÉùÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                alert('ÏßÄÏõêÏûêÍ∞Ä ÏÑ†ÌÉùÎêòÏóàÏäµÎãàÎã§. ÏûëÏóÖÏù¥ ÏßÑÌñâÏ§ë ÏÉÅÌÉúÎ°ú Î≥ÄÍ≤ΩÎê©ÎãàÎã§.');
                closeModal();
                updateRequestsList();
            }
        }

        // ÏßÄÏõêÏûê Ïó∞ÎùΩ
        function contactApplicant(requestId, applicantId) {
            alert('Ï±ÑÌåÖÎ∞©ÏúºÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.');
            // window.location.href = `DG-chat-room.html?request=${requestId}&applicant=${applicantId}`;
        }

        // Í∏∞ÌÉÄ Ïï°ÏÖò Ìï®ÏàòÎì§
        function editRequest(id) {
            alert('ÏûëÏóÖ ÏàòÏ†ï ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.');
            // window.location.href = `DG-work-edit.html?id=${id}`;
        }

        function closeRequest(id) {
            if (confirm('Ï†ïÎßêÎ°ú Ïù¥ ÏûëÏóÖÏùÑ ÎßàÍ∞êÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                alert('ÏûëÏóÖÏù¥ ÎßàÍ∞êÎêòÏóàÏäµÎãàÎã§.');
                updateRequestsList();
            }
        }

        function contactWorker(id) {
            alert('ÏûëÏóÖÏûêÏôÄÏùò Ï±ÑÌåÖÎ∞©ÏúºÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.');
        }

        function completeWork(id) {
            if (confirm('ÏûëÏóÖÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÍπå?')) {
                alert('ÏûëÏóÖ ÏôÑÎ£å Ï≤òÎ¶¨ÎêòÏóàÏäµÎãàÎã§. Î¶¨Î∑∞Î•º ÏûëÏÑ±Ìï¥Ï£ºÏÑ∏Ïöî.');
                updateRequestsList();
            }
        }

        function viewWorkDetail(id) {
            alert('ÏôÑÎ£åÎêú ÏûëÏóÖ ÏÉÅÏÑ∏ ÎÇ¥Ïó≠ÏùÑ ÌôïÏù∏Ìï©ÎãàÎã§.');
        }

        function rehireWorker(id) {
            if (confirm('Í∞ôÏùÄ ÏûëÏóÖÏûêÏóêÍ≤å ÏÉàÎ°úÏö¥ ÏûëÏóÖÏùÑ ÏùòÎ¢∞ÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                alert('ÏÉà ÏûëÏóÖ Îì±Î°ù ÌéòÏù¥ÏßÄÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§.');
            }
        }

        function repostRequest(id) {
            if (confirm('Ïù¥ ÏûëÏóÖÏùÑ Îã§Ïãú Îì±Î°ùÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                alert('ÏûëÏóÖÏù¥ Îã§Ïãú Îì±Î°ùÎêòÏóàÏäµÎãàÎã§.');
                updateRequestsList();
            }
        }

        function deleteRequest(id) {
            if (confirm('Ï†ïÎßêÎ°ú Ïù¥ ÏûëÏóÖÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                alert('ÏûëÏóÖÏù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.');
                updateRequestsList();
            }
        }

        function goBack() {
            window.history.back();
        }

        // Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Îì±Î°ù
        document.addEventListener('DOMContentLoaded', function() {
            renderRequests(sampleRequests);
            
            // Ï†ïÎ†¨ Î≤ÑÌäº
            document.querySelectorAll('.sort-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.sort-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    updateRequestsList();
                });
            });
            
            // ÌïÑÌÑ∞ Î≥ÄÍ≤Ω
            document.getElementById('statusFilter').addEventListener('change', updateRequestsList);
            document.getElementById('categoryFilter').addEventListener('change', updateRequestsList);
            
            // Í≤ÄÏÉâ Enter ÌÇ§
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchRequests();
                }
            });
            
            // Î™®Îã¨ Ïô∏Î∂Ä ÌÅ¥Î¶≠
            document.getElementById('applicantsModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal();
                }
            });
        });

        // Ïã§ÏãúÍ∞Ñ ÏóÖÎç∞Ïù¥Ìä∏ ÏãúÎÆ¨Î†àÏù¥ÏÖò
        function simulateNewApplications() {
            if (Math.random() > 0.8) {
                const recruitingRequests = sampleRequests.filter(r => r.status === 'recruiting');
                if (recruitingRequests.length > 0) {
                    const randomRequest = recruitingRequests[Math.floor(Math.random() * recruitingRequests.length)];
                    randomRequest.applicantsCount += 1;
                    updateRequestsList();
                }
            }
        }

        setInterval(simulateNewApplications, 45000);
    </script>
</body>
</html>